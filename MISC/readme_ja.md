# yukicpl自述文件 -yukicpl Readme-

---
### 簡単な紹介
yukicplは @hatsuyuki280 が開発した Linux 系サーバー関連の管理パネルです。  
名前の由来は少し中二病ぽいけど自分のユーザー名の hatsuyuki の yuki とコントロールパネルの略称の cpl で組立たものです。
日本語の読み方は暫定「ゆきパン」にするが、まだ決まりではないので、誰でも良い名前を思いついたら pr か issue で教えて〜  

元々自分用に作った、サーバー管理用に開発した便利なスクリプトの集合みたいなものですが、これからはもっと日常的な機能にもサポートしようと考えてあります。  

今は主に Debian >= 9 / Ubuntu >= 18.04 を目標プラットフォームとして開発しています。  
サービス管理は systemd を使用しているので、Windows Subsystem Linux はまだサポートされていません(対応計画もない)。  

**重要なお願い**
このパネルは元々自分用に開発したもの、かつ最初からほかの管理用パネルとの互換性など考えてないので、  
対象プラットフォームであっても、あらゆる環境ですべてのソフトウェアと共存できるかどうかは保証できません。  
また業務用など管理権限が複雑な環境などで検証していないので、そのような環境で使用する場合、安全性などについては保証できません。  

実行できるかどうかに関わらず、現存のファイルやシステムなどを破壊する恐れがある。  
念のため、まずはリスクを検証してからお試しください。  
できるだけほかのコントロールパネルとの合同使用は避けてください。  

このソフトウェアは複数のサードパーティーソフトウェアやオープンソースソフトウェアを管理し、利用している。
そのため、あらゆる操作の際にroot権限をリクエストする場合がある。
本番の業務システムで使用する場合は、必ずシステム管理者の許可を得てください。

最後かつ一番重要なこと：
リスクを理解した上で、システム管理者の許可を得てから使用してください。
このコントロールパネルによるあらゆる損害は、私に責任を問わないようお願いします。

---

### 機能・特徴紹介
- 対象プラットフォーム
    - Linux
        - [x] Debian >= 9.0 [ ARM / ARM x64 / i386 / amd64 ]
        - [x] Ubuntu >= 18.04 [ ARM / ARM x64 / i386 / amd64 ]
        - [ ] CentOS
        - [ ] Fedora
- 特徴
    - [x] オーペンソース
    - [x] インタプリタはbashを使用しているため、標準システム環境があれば実行できる
    - [x] コマンドライン操作のなれていない方でも操作しやすい UI が提供されている
        - [x] やさしい CLI
        - [ ] 引数を指定でUIなしにて実行できる
        - [ ] TUI [ 未実装 ]
        - [ ] GUI [ 未実装 ]
    - [x] 初心者でも読みやすいコメント付き
    - [x] 機能ごとスクリプト化している故、自由に追加・削除していくことができる
    - [x] パケージマネージャーを使用している故、このパネルをつかわなくなっても、人による面倒なく操作できる

- 管理できる機能
    - Web関連
        - [ ] Nginx [インストール / 管理]
            - [ ] Nginx Reverse Proxy 配置
            - [ ] Nginx RTMP 配置
        - [ ] PHP [インストール / 基本管理]
        - [ ] MySQL [インストール / 管理]
        - [ ] MariaDB [インストール / 管理]
        - [ ] Redis [インストール / 基本管理]
        - [ ] Lets Encrypt [ 申請 / 自動更新 / CSR生成 ]
        - [ ] One Key Create Site [ サイト作成 ]
            - [ ] WordPress [ インストール ]
            - [ ] Static File Index Site [ 配置 ]
    - サービス関連
        - [ ] aria2 RPC & WebUI [ インストール / 簡単管理 ]
        - [ ] Deluge BitTorrent Downloader [ インストール / 簡単管理 ]
        - [ ] codeserver [ インストール / 簡単管理 ]
        - [ ] docker [ インストール / 簡単管理 ]
        - [ ] jupyter [ インストール / 簡単管理 ]
        - [ ] cloudflare 経由の DDNS・ZeroTrust・NATパススルー [ 簡単管理 ]
        - [ ] FRP [ インストール / 簡単管理 ]
    - システム関連
        - [ ] Shadowsocks [ インストール / 簡単管理 ]
        - [ ] SoftEther VPN [ インストール / 簡単管理 ]
        - [ ] OpenVPN [ インストール / 簡単管理 ]
        - [ ] WireGuard [ インストール / 簡単管理 ]
        - [ ] Cloudflare Warp [ インストール / 簡単管理 ]
        - [ ] ファイアウォール・ルーティングテーブル [ 簡単管理 ]
        - [ ] Samba [ Windows ファイル共有のみの簡単管理 ]

---

### クイックスタート (本体未完成のため、下記内容使用不可)
もしどう使うか迷うなら、[install.sh](https://github.com/hatsuyuki280/yukicpl/blob/master/MISC/install.sh)からご体験ください。  
またはこちらのコマンドを実行してください：
```
## 警告：このコマンドはユーザー、またはrootのパスワードを要求され、rootとして実行する。本実行前に install.sh の内容をよく確認してからご利用ください。
## 中身の日本語化はまだ終わっていない。
sudo su -c "bash <(wget -qO- https://yukicpl.moeyuki.works/dist/etc/misc/install_jp.sh)"
```
上のコマンドを実行することで[yukicpl.sh](https://github.com/hatsuyuki280/yukicpl/blob/master/MISC/yukicpl.sh)をダウンロードされます。  
これから新しい機能を使う度に必要なパーツだけ自動でダウンロードできます。
どうしても一括で全部ダウンロードして欲しいなら、以下のコマンドを実行してください：
```
## 警告：このコマンドはユーザー、またはrootのパスワードを要求され、rootとして実行する。本実行前に install.sh の内容をよく確認してからご利用ください。
## 中身の日本語化はまだ終わっていない。
sudo su -c "bash <(wget -qO- https://yukicpl.moeyuki.works/dist/etc/misc/install_full_jp.sh)"
```
インストールが終わったら、以下のように表示が出てくる：
```インストール完了しました。ターミナルで「yukicpl」を入力すれば実行できる。```

---

### 使用（未完成）
インストール終了後、yukicplは/usr/local/bin/ディレクトリの中に配置し、ほかのパーツは/usr/local/lib/yukicpl/ディレクトリの中にあります。
初期化時にインストールしたすべてのソフトウェアはパッケージマネージャー「APT」で管理しているので、それぞれ既定のディレクトリにインストールしている。
本コントロールパネルのディレクトリ使用は詳しくhttps://yukicpl.moeyuki.works/dict_def_jp.json をご参照ください。

コントロールパネルを開始するには、rootユーザーで：
``` yukicpl ```
を実行してください。
一般ユーザーで実行した場合は、自動的にsudoコマンド（優先）かsuコマンドでrootまで権限をリクエストします。対応のパスワードをあらかじめ用意してください。  
コンフィグファイルが見つからない起動時に、自動的に初期化設定ウイザードが表示します。提示内容を従い、初期設定を終わらせてください。
手動でコンフィグファイルを編集する場合は、[yukicpl.conf](https://github.com/hatsuyuki280/yukicpl/blob/master/config-simple/yukicpl.conf)をご参照ください。
ドライモードで実行する場合は（すべてのコマンドは実行しない、コマンド内容はターミナルに表示しますので、そのまま確認できます。）以下のコマンドを任意のユーザーで実行してください。：
``` yukicpl --test ```

本コントロールパネルを正しく実行すると、機能選択ユーザーインターフェイスが表示します。
必要に応じて、選択し、ウイザードをしたがってお使いください。  
手動でインストールしたプログラムのコンフィグファイルを書く必要はありませんが、自分用にアレンジしたい場合はそれぞれ既定フォルダーをご参照ください。
---

#### ファスト機能（未完成）
まだ考案中です。完成後は更新するので、お楽しみください。  

---

### アンインストール（未完成）
セキュリティー向上のため、yukicplの「ワンキー退職」機能を削除しました。
（「ワンキー退職」では日本語の語源がないため、そのまま訳した。
実はrm -rfやdrop databaseなどのヤバいコマンドを使っているので、判断せず、すべて管理できるデータを削除し、実行したらすぐ退職届を書くならまだ間に合えるというミームです。）

正文に戻る、このコントロールパネルをリムーブするなら[uninstall.sh](https://github.com/hatsuyuki280/yukicpl/blob/master/MISC/uninstall.sh)を使ってください。  
またはこちらのコマンドを実行してください：
```
## 警告：このコマンドはユーザー、またはrootのパスワードを要求され、rootとして実行する。本実行前に uninstall.sh の内容をよく確認してからご利用ください。
## このスクリプトは文字列 yukicpl を含めたすべてのプロセスを中止するので、リスクを避けるために、プロセスを中止しますか？を聞かれたら、確実に表示したプロセスリストを確認してください。
sudo su -c "bash <(wget -qO- https://yukicpl.moeyuki.works/dist/etc/misc/uninstall_jp.sh)"
```
実行したらウイザードをしたがって、アンインストールプロセスを完成させてください。  
**重要**
アンインストール時に「すべて削除」と選択すると、2回の確認後に確実に関連のあるすべてのファイルを削除されます。
このコントロールパネルから作ったすべてのエンバィアランメントやインストールしたプログラムで管理できるファイルはすべて含まれます。  
以下の文字が表示されたら、アンインストールは完了します。  
```アンインストールは完了しました。一部のファイルは使用中のため、削除できないかもしれません。手動でリブートして、リムーブしてください。```
アンインストールウイザードが終了直前には「アンケートに協力しますか？」と聞かれます。「N」を入力することで、アンケートを拒否できます。
（ただいま、アンケート機能は作り終わっていないため、アンケート聞くこともないし、何も送信しません。ご安心ください。）  
「N」以外の入力は、デフォルト同意とします。その後はwgetコマンドで、アンケートのカウンターに自動でアクセスし、送信します。
アンケート内容とシステムディストリビューション以外のユーザー情報は収集しないし、送信もしません。  
（送信する直前には送信内容と実行するコマンドを表示します）。  